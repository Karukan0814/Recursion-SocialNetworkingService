Social Networking Service
共通の興味、キャリア、背景、実生活のグループに基づいて、ユーザーがソーシャルネットワークを築けるような SNS ウェブアプリケーションを作成します。


この SNS アプリは、機能的には Twitter に似ており、非常に軽量です。ユーザーはプロフィールを作成し、短いメッセージを投稿し、メディアコンテンツを共有し、プライベートメッセージで他のユーザーと交流し、通知を確認し、フォローしている人やトレンドに基づくホームページのタイムラインを楽しむことができます。ウェブアプリには他にも、投稿に「いいね」する機能、投稿をスケジュールする機能、投稿に返信する機能、投稿を削除する機能がありますが、投稿を更新することはできません。ウェブアプリは、コミュニケーションと情報共有のための使いやすいプラットフォームを提供します。


これはプロトタイプなので、アプリケーションは数千人の架空のユーザーを生成する必要があります。これらのユーザーは毎日ランダムに 3 つの投稿を行い、5 つの他のランダムな投稿に「いいね」し、さらに、特定の 50 人の「インフルエンサー」アカウントがある場合、これらの架空のユーザーはその中から20の投稿に「いいね」をします。そして、1つのランダムに選ばれたメインの投稿に対して返信をします。


Note:

フレームワークを使うことも検討されている方は、このプロジェクトを自分自身の思考で行うことをお勧めします。これまでに学んだ知識をすべて活かし、独自のデータ構造、スキーマ、クラス、ライブラリを作成してください。独自のマイクロフレームワークを作りつつ、faker ライブラリやカレンダー、フロントエンドの通知 UI ライブラリ、画像生成ライブラリや API などの抽象化ライブラリを自由に使っても構いません。ライブラリは自分のルールとタイミングに従って使い、フレームワークはフレームワークのルールとタイミングに従う必要がある点を覚えておいてください。


機能要件
1. ユーザープロフィール作成
ユーザーはサインアップして、名前、年齢、居住地、趣味、簡単な自己紹介などを含む詳細なプロファイルを作成できます。
プロフィール写真をアップロードするオプションがあります。
ユーザーが他のユーザーをフォローしたり、フォローされたりできるフォロワー＆フォローシステムがあります。

2. ユーザー投稿
ユーザーは一度投稿すると更新できない短いメッセージを投稿できます。これらのメッセージは最大 255 文字です。
ユーザーはいつでも投稿を削除できます。
投稿で画像や動画などのメディアコンテンツを共有できる機能があります。
動画の場合、サイズを制限し、必要に応じてバックエンドでさらに圧縮を行います。レンダリングには HTML 動画を使用できます。
投稿に「いいね」を付けたり、取り消したりする機能があります。
投稿を後で特定の日時に投稿されるようにスケジュールする機能があります。
スケジュールされた投稿のためには、毎分実行される Linux の cron ジョブからコマンドを実行することができます（例：* * * * * command-to-execute）。このコマンドは、現在投稿される予定のすべての投稿を取得し、投稿します（例：下書きから公開にステータスを変更する）。
返信で形成されるスレッドを許可します。投稿に返信すると、その投稿に対する返信のスレッドが形成されます。これらはネストされる場合があり、返信もそれ自体のスレッドになることがあります。

3. プライベートメッセージング
ユーザー間の直接コミュニケーションのためのプライベートメッセージングシステムがあります。
すべてのプライベートメッセージは、暗号化された後にデータベースに保存され、読む際に復号されます。
PHP では、暗号化＆復号化に PHP OpenSSL ライブラリを使用します。OpenSSL には一般的な暗号化のためのコアライブラリが含まれています。

4. 通知
新しい「いいね」、コメント、フォロワーに対する通知があります。
新しいプライベートメッセージが届いた際の通知があります。
通知カードがクリックされると、ユーザーはソースへ移動します。
「いいね」通知は投稿へ、「コメント」通知はコメントへ、「フォロワー」通知はフォローしたフォロワーへ、「プライベートメッセージ」通知は会話へ移動します。
通知が閲覧された後、それは閲覧済みとマークされ、強調表示されません。

5. ホームページとタイムライン
トレンドとフォロワーの2つのタブを持つ、最新の投稿を表示するホームページタイムラインがあります。
トレンド: その日に最も「いいね」された投稿を降順で表示します。
フォロワー: フォロワーからの投稿を降順で表示します。
タイムラインをスクロールすると、ページは自動的に次の投稿セットをロードします。デフォルトでは、一度に 20 の投稿がロードされます。

6. プロトタイプ用のデータシーディング
複数の偽ユーザープロファイルでデータベースを自動的にシードします。各プロファイルは、ユニークなユーザー名、生成されたプロフィール写真、bio など、現実的な属性を持つ必要があります。
各偽ユーザーは、毎日ランダムなテキストジェネレーターを使用した内容の異なる 3 つの投稿を行うようにスケジュールされる必要があります。
各偽ユーザーは、毎日他のユーザーから 5 つのランダムな投稿に「いいね」するようにプログラムされる必要があります。
各偽ユーザーは、毎日 1 つのランダムなメイン投稿に返信する必要があります。
各偽ユーザーは、毎日 50 人の「インフルエンサー」アカウントの中から 20 の投稿に「いいね」をします。これは、ユーザーが頻繁に人気アカウントのコンテンツに関与する一般的なソーシャルメディアの行動を模倣することを目的としています。
投稿、いいね、返信などのすべてのシーディング活動は、一日を通じて偽ユーザーごとに異なる時間にスケジュールされるべきです。一定の間隔で投稿に「いいね」するなど、活動が自動化されたように見えるパターンを避けてください。

技術要件
フロントエンド
HTML/CSS を使用して、クリーンで直感的なインターフェースをデザインします。
JavaScript を使用してクライアント側の計算を行い、Web API 呼び出しのために fetch を使用します。

バックエンド
PHP 8、TypeScript、Java、C# などの静的型付けを持つオブジェクト指向のバックエンド言語を使用します。高速なプロトタイピングのために PHP 8 が推奨されます。
バックエンドは MVC アーキテクチャに従うべきです。

データベース
ユーザーデータ、投稿、相互作用、メッセージを保存するために MySQL などのリレーショナルデータベースシステムを利用します。
最適化されたデータ取得のために効果的なインデックスを実装します。

サーバ
コマンド実行のスケジュールを設定するために cron ジョブを実行する Linux マシンを使用します。

非機能要件
デプロイメント
AWS のようなクラウドプラットフォームにアプリケーションをホストし、アクセス性と高い稼働時間を確保します。
効率的なコードデプロイメントとアップデートのためにデプロイメントスクリプトを開発しCI/CDを実装します。Github Webhooksを使うことでmasterブランチが更新される度デプロイメントスクリプトを実行し自動化もできます。
自分のドメインで SSL 証明書を使って本番環境にデプロイします。

パフォーマンス
高速なロード時間と応答性の高いインタラクションを最適化します。
大量のユーザーデータと相互作用を効率的に処理します。

セキュリティ
本番環境では、すべての接続は HTTPS を通じて行われる必要があります。
ユーザーからの入力に対してバックエンドで検証が行われるべきです。
強力な暗号化方法による強固な認証、データ保護、プライバシーを確保します。
ユーザーの適切なアクセス制御を実装します。Web アプリが提供するすべてのコントロールに適切な権限チェックを行います。
環境ファイルはソースコントロール（Git/GitHub など）で無視されるべきです。環境ファイルはサーバごとに管理されるべきです。これは SSH や SFTP を通じて行うことができます。

ソフトウェア設計
（要件モデリング）実装開発サイクルに入る前に、アクティビティ図、シーケンス図、ユースケース図などの図を作成して要件を把握し、要件モデリングを行います。
（ソフトウェア実装設計）アジャイル開発を採用し、ソフトウェア設計を反復しながら、データベーステーブルの ER 図やモデルのクラス図を作成します。
（フロントエンド設計）ビューの開発に入る前に、ワイヤーフレームやデジタルデザインを作成してフロントエンドデザインを行います。Figma、Whimsical、Google Draw などのアプリを使用してデザインできます。

スケーラビリティ
アプリケーションが単一のサーバ上でのみ実行され、垂直スケーリングのみが可能であると仮定します。つまり、ハードウェアのみを変更できます。

Note:

SNS ウェブアプリを完成させた後に、以下のスケーラビリティのセクションを見てください。


水平スケーラビリティ
プロジェクトを完成させた後、プロトタイプとして、複数のサーバが追加されて分散サーバサイドシステムが作成される水平スケーリングをサポートする方法について考えます。考えるべき質問の一部は以下の通りです。
システムは同時に 1000 万人のユーザーをサポートする方法は？
100,000 ~ 1,000,000 件の投稿が毎分スケジュールされている場合、サーバはどのように投稿をスケジュールしますか？
複数のデータベースサーバがある場合、それらはどのようにしてデータを複数のデータベースサーバに分散しますか？
ユーザープロファイルや人気の投稿など、頻繁にアクセスされるデータのデータベース負荷を軽減するためにどのようなキャッシングメカニズムを使用しますか？ 人気のインフルエンサーをキャッシュすることは役立ちますか？
新しいサーバがいつでも追加および削除される場合、この水平スケーリングを行う際にどのようにデプロイメントを管理しますか？
ロードバランシング、データベースのバックアップおよび災害復旧、静的ファイルのためのコンテンツデリバリーネットワーク（CDN）、セッション管理などを考えます。これらはスケーリングに関連する多くのトピックの中のいくつかにすぎません。
